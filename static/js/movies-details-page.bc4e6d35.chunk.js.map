{"version":3,"sources":["components/services/filmAPI.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/CardMovieInfo/CardMovieInfo.module.css","components/CardMovie/CardMovie.module.css","components/ButtonGoBack/ButtonGoBack.module.css","components/CardMovieInfo/CardMovieInfo.js","components/ButtonGoBack/ButtonGoBack.js","components/CardMovie/CardMovie.js","routes/Movie.js"],"names":["KEY","BASE_URL","fetchTrendingFilms","axios","get","then","response","data","fetchFilmSearch","query","fetchFilmDetails","id","fetchFilmCast","fetchFilmReviews","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","sourceSymbolKeys","prototype","propertyIsEnumerable","call","module","exports","withRouter","match","className","styles","movieInfo","to","url","movieInfoLink","goBack","type","butonGoBack","onClick","CardMovie","movieDetails","title","poster","overview","genres","rating","dateRelese","movieCard","movieImg","src","alt","movieDescription","slice","movieGenres","map","item","name","AsyncCast","lazy","AsyncReviews","mapper","poster_path","vote_average","release_date","props","MoviePage","state","handleGoBack","history","location","prevPage","this","params","movieId","fetchAPI","setState","path","component","Component"],"mappings":"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","file":"static/js/movies-details-page.bc4e6d35.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst KEY = '?api_key=cdb8257d9d90538f8e72b60087a26c1c';\nconst BASE_URL = `https://api.themoviedb.org/3/`;\n\nexport const fetchTrendingFilms = () =>\n  axios\n    .get(`${BASE_URL}trending/movie/week${KEY}`)\n    .then(response => response.data);\n\nexport const fetchFilmSearch = query =>\n  axios\n    .get(`${BASE_URL}search/movie${KEY}&query=${query}&page=1`)\n    .then(response => response.data);\n\nexport const fetchFilmDetails = id =>\n  axios\n    .get(`${BASE_URL}movie/${id}${KEY}&language=en-EN`)\n    .then(response => response.data);\n\nexport const fetchFilmCast = id =>\n  axios\n    .get(`${BASE_URL}movie/${id}/credits${KEY}&language=en-EN`)\n    .then(response => response.data);\n\nexport const fetchFilmReviews = id =>\n  axios\n    .get(`${BASE_URL}movie/${id}/reviews${KEY}&language=en-EN`)\n    .then(response => response.data);\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieInfo\":\"CardMovieInfo_movieInfo__1k6t3\",\"movieInfoLink\":\"CardMovieInfo_movieInfoLink__1-lBX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCard\":\"CardMovie_movieCard__18vx5\",\"movieImg\":\"CardMovie_movieImg__1Q04t\",\"movieDescription\":\"CardMovie_movieDescription__1kADQ\",\"movieGenres\":\"CardMovie_movieGenres__3Qzb0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"butonGoBack\":\"ButtonGoBack_butonGoBack__1Vz-x\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\n// import PropTypes, { shape } from 'prop-types';\nimport styles from './CardMovieInfo.module.css';\n\nconst CardMovieInfo = ({ match }) => {\n  return (\n    <div className={styles.movieInfo}>\n      <h3>Additional information</h3>\n      <ul>\n        <li>\n          <Link to={`${match.url}/cast`} className={styles.movieInfoLink}>\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link to={`${match.url}/reviews`} className={styles.movieInfoLink}>\n            Reviews\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nCardMovieInfo.propTypes = {\n  match: PropTypes.shape({\n    url: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default withRouter(CardMovieInfo);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './ButtonGoBack.module.css';\n\nfunction ButtonGoBack ({ goBack }) {\n  return (\n    <div>\n      <button type='button' className={styles.butonGoBack} onClick={goBack}>\n        Go Back\n      </button>\n    </div>\n  );\n}\n\nButtonGoBack.propTypes = {\n  goBack: PropTypes.func.isRequired,\n};\n\nexport default withRouter(ButtonGoBack);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CardMovieInfo from '../CardMovieInfo/CardMovieInfo';\nimport styles from './CardMovie.module.css';\nimport ButtonGoBack from '../ButtonGoBack/ButtonGoBack';\n\nfunction CardMovie ({ movieDetails, goBack }) {\n  const {\n    id,\n    title,\n    poster,\n    overview,\n    genres,\n    rating,\n    dateRelese,\n  } = movieDetails;\n\n  const getYear = date => date.slice(0, 4);\n\n  return (\n    <>\n      <ButtonGoBack goBack={goBack} />\n      <div key={id} className={styles.movieCard}>\n        <div className={styles.movieImg}>\n          <img\n            src={`https://image.tmdb.org/t/p/original${poster}`}\n            alt={title}\n          />\n        </div>\n        <div className={styles.movieDescription}>\n          <h1>\n            {title} ({getYear(dateRelese)})\n          </h1>\n          <p>User Score: {rating}</p>\n          <h2>Overview</h2>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <ul className={styles.movieGenres}>\n            {genres.map(item => (\n              <li key={item.id}>\n                <p>{item.name}</p>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <CardMovieInfo />\n    </>\n  );\n}\n\nCardMovie.propTypes = {\n  movieDetails: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    poster: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n      }),\n    ).isRequired,\n    rating: PropTypes.number.isRequired,\n    dateRelese: PropTypes.string.isRequired,\n  }).isRequired,\n  goBack: PropTypes.func.isRequired,\n};\n\nexport default CardMovie;\n","import React, { Component, lazy, Suspense } from 'react';\nimport { Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as fetchAPI from '../components/services/filmAPI';\nimport CardMovie from '../components/CardMovie/CardMovie';\n\nconst getIdFromProps = props => props.match.params.movieId;\n\nconst AsyncCast = lazy(() =>\n  import('../components/Cast/Cast' /* webpackChunkName: \"cast-list\" */),\n);\n\nconst AsyncReviews = lazy(() =>\n  import(\n    '../components/Reviews/Reviews' /* webpackChunkName: \"reviews-list\" */\n  ),\n);\n\nconst mapper = ({\n  poster_path: poster,\n  vote_average: rating,\n  release_date: dateRelese,\n  ...props\n}) => ({\n  poster,\n  rating,\n  dateRelese,\n  ...props,\n});\n\nexport default class MoviePage extends Component {\n  state = {\n    movieDetails: null,\n  };\n\n  static propTypes = {\n    match: PropTypes.shape({\n      path: PropTypes.string.isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n    location: PropTypes.shape({\n      state: PropTypes.shape().isRequired,\n    }).isRequired,\n  };\n\n  componentDidMount () {\n    const id = getIdFromProps(this.props);\n    fetchAPI\n      .fetchFilmDetails(id)\n      .then(movieDetails =>\n        this.setState({ movieDetails: mapper(movieDetails) }),\n      );\n  }\n\n  handleGoBack = () => {\n    const { history, location } = this.props;\n    if (location.state.prevPage) {\n      history.push(location.state.prevPage);\n    } else {\n      history.push('/');\n    }\n  };\n\n  render () {\n    const { movieDetails } = this.state;\n    const { match } = this.props;\n    return (\n      <div>\n        {movieDetails !== null && (\n          <CardMovie movieDetails={movieDetails} goBack={this.handleGoBack} />\n        )}\n        <Suspense>\n          <Route path={`${match.path}/cast`} component={AsyncCast} />\n          <Route path={`${match.path}/reviews`} component={AsyncReviews} />\n        </Suspense>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}